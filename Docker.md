# Docker
## 도커
- 도커란?
	- [[컨테이너|컨테이너]]를 쉽게 만들고 실행하기 위한 도구
		- 컨테이너는 리눅스의 cgroups, 네임스페이스 등의 기능을 사용하여 격리 된 환경
	- 컨테이너를 이미지로 만들고 실행 관리
		- 애플리케이션 환경 패키징 (dockerfile 사용)
- 실행 환경
	- 리눅스 전용
- Docker Desktop
	- 윈도우 / macOS 전용
	- 도커+가상환경 자동 구성 (GUI 제공)
	- 호스트와 자동으로 볼륨 연동 / 포트포워딩 설정
		- 호스트에 곧바로 바인드 마운트, 컨테이너 접속 가능
## Dockerfile
- 보통 컨테이너 이미지는 도커 허브에서 다운로드
- 커스텀 이미지를 만들기 위한 스크립트 파일
	- ex) ubuntu + nginx 설치 + 설정 파일
	- docker build 명령어로 하나의 이미지로 패키징 가능
## Docker Compose
- 여러 개의 컨테이너를 연결하여 실행하는 도구
	- 웹 + DB 등 같이 실행할 때
## 컨테이너 실행 시 알아둘 사항
- 이미지로 컨테이너 실행 시 이미지에 따라 실행해야 하는 커맨드가 있음
	- 도커 컨테이너는 내가 지정한 프로그램(프로세스)만 실행되기 때문
		- VM의 경우 OS 전체가 부팅 -> 자동으로 쉘 실행(tty)
		- 컨테이너는 내부에서 명시적으로 커맨드 실행 필요
			- ex) docker run ubuntu `bash`
			- 이미지 내부에 지정되어 있는 CMD만 실행
- `docker run ubuntu bash`
	- 우분투 이미지 안에서 bash 프로세스를 실행하라는 의미
	- 우분투 이미지 안에는 최소한의 실행 환경만 포함, 터미널 접속 위해서는 수동 커맨드 입력 필요
		- 프로세스를 실행하기 위한 파일 시스템만을 포함